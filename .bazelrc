build --repo_env=CC=clang
build --repo_env=CXX=clang++

build --cxxopt=-std=c++20
build --cxxopt=-Wall

# macOS-specific configuration
build:macos --cxxopt=-mmacosx-version-min=13.3
build:macos --linkopt=-mmacosx-version-min=13.3
build:macos --linkopt=-Wl,-no_warn_duplicate_libraries

# Debug configuration
build:debug -c dbg
build:debug --strip=never
build:debug --copt=-g
build:debug --copt=-O0
build:debug --copt=-D_GLIBCXX_DEBUG
build:debug --linkopt=-g
build:debug --linkopt=-fsanitize=address
build:debug --linkopt=-fsanitize=undefined
build:debug --linkopt=-fsanitize=integer
build:debug --linkopt=-fsanitize=float-divide-by-zero
build:debug --linkopt=-fsanitize=float-cast-overflow
build:debug --linkopt=-fsanitize=null
build:debug --linkopt=-fsanitize=bounds
build:debug --linkopt=-fsanitize=alignment
build:debug --spawn_strategy=standalone
